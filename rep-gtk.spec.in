
Name: rep-gtk
Version: @version@
Release: 1
Summary: GTK+ binding for librep Lisp environment
Requires: librep >= 0.11, gtk+ >= 1.2
Copyright: GPL
Group: Development/Languages
Source: ftp.dcs.warwick.ac.uk:/people/John.Harper/librep/rep-gtk-%{version}.tar.gz
URL: http://www.dcs.warwick.ac.uk/~john/sw/rep-gtk.html
Packager: John Harper <john@dcs.warwick.ac.uk>
Buildroot: /var/tmp/%{name}-root
BuildPrereq: libglade-devel gnome-libs-devel

%description
This is a binding of GTK+ for the librep Lisp interpreter. It is based
on Marius Vollmer's guile-gtk package (initially version 0.15, updated
to 0.17), with a new glue-code generator.

%package libglade
Summary: librep binding for the libglade library for loading user interfaces.
Group: Development/Languages
Requires: %{name}, libglade

%description libglade
This is a binding of libglade for the librep Lisp interpreter. libglade
allows applications to dynamically load XML descriptions of GTK+ widget
hierarchies. These hierarchies may be created by the GLADE GUI builder.

%package gnome
Summary: GNOME binding for librep
Group: Development/Languages
Requires: %{name}, gnome-libs, libglade

%description gnome
This is a binding of the various GNOME libraries for the librep Lisp
interpreter. It include support for the basic GNOME functions, the
GNOME user interface widgets, the GNOME Canvas architecture, and the
GNOME version of libglade.

%prep
%setup

%build
./configure --prefix %{_prefix} %{_host}
make CFLAGS="$RPM_OPT_FLAGS"

%install
rm -rf $RPM_BUILD_ROOT
make install \
    installdir=$RPM_BUILD_ROOT%{_prefix}/libexec/rep/%{_host}

%clean
rm -rf $RPM_BUILD_ROOT

%files
%defattr(-,root,root)
%doc README README.guile-gtk BUGS ChangeLog gtk-1.2.defs gdk-1.2.defs
%{_prefix}/libexec/rep/%{_host}/sgtk-types.so*
%{_prefix}/libexec/rep/%{_host}/sgtk-types.la
%{_prefix}/libexec/rep/%{_host}/gtk.so*
%{_prefix}/libexec/rep/%{_host}/gtk.la

%files libglade
%defattr(-,root,root)
%doc libglade.defs examples/test-libglade examples/simple.glade
%doc examples/rep-ui examples/rep-ui.glade
%{_prefix}/libexec/rep/%{_host}/libglade.so*
%{_prefix}/libexec/rep/%{_host}/libglade.la

%files gnome
%defattr(-,root,root)
%doc gnome*.defs examples/gnome-test examples/canvas-test
%{_prefix}/libexec/rep/%{_host}/gnome*.so*
%{_prefix}/libexec/rep/%{_host}/gnome*.la
%{_prefix}/libexec/rep/%{_host}/libglade-gnome.so*
%{_prefix}/libexec/rep/%{_host}/libglade-gnome.la

%changelog
* Fri Sep 17 1999 John Harper <john@dcs.warwick.ac.uk>
- specify installdir when installing

* Tue Sep 14 1999 Aron Griffis <agriffis@bigfoot.com>
- 0.4 spec file update: added buildroot
